package cn.com.evo.integration.scyd.query;import cn.com.evo.cms.domain.entity.cms.CatalogueRelation;import cn.com.evo.cms.domain.entity.cms.Content;import cn.com.evo.cms.utils.WriteLogUtil;import cn.com.evo.integration.scyd.query.dto.QueryContentDto;import com.alibaba.fastjson.JSONObject;import com.frameworks.utils.DateUtil;import java.io.File;/** * @Description: 统一搜索sdk * @author: lu.xin * @create: 2019-04-28 3:10 PM **/public class ScydQuerySDK {    /**     * 创建json文件     * [第三方CP内容名称]_[日期{例20170105}]_[24小时时间{例080000}]_[全量/增量{例 all/ increment}].json     *     * @param catalogueRelation 栏目与内容关系     * @param content           内容对象     * @param picUrl            海报地址     */    public static void createJsonFile(CatalogueRelation catalogueRelation, Content content, String picUrl) {        // 根据日期创建json文件        String dateTime = DateUtil.getDateTime(DateUtil.DATE_PATTERN.YYYYMMDDHHMMSS);        String date = dateTime.substring(0, 8);        String localDir = "/data/" + date;        File dir = new File(localDir);        if (!dir.exists()) {            dir.mkdirs();        }        String fileName = "亲多多_" + date + "_060000_increment.json";        String filePath = localDir + "/" + fileName;        // 生成json字符串        QueryContentDto dto = new QueryContentDto(catalogueRelation, content, picUrl);        String jsonStr = JSONObject.toJSONString(dto);        // 写入json文件最后，换行        WriteLogUtil.writrLog(filePath, jsonStr);    }}