package cn.com.evo.cms.web.dataDispose.dataDisposeApi;import cn.com.evo.cms.domain.entity.cms.Content;import cn.com.evo.cms.service.cms.ContentService;import com.frameworks.core.web.controller.BaseController;import com.frameworks.core.web.result.DataResultForAPI;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.CrossOrigin;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.ResponseBody;import java.util.List;/** * @Description: * @author: lu.xin * @create: 2019-01-08 10:05 PM **/@Controller@RequestMapping("/api/contentDipose")@CrossOrigin(origins = "*", maxAge = 3600)public class ContentDipose extends BaseController {    @Autowired    private ContentService contentService;    /**     * 处理内容拼音为空的问题     *     * @return     */    @RequestMapping(value = "/namePy", method = {RequestMethod.GET})    @ResponseBody    public DataResultForAPI namePy() {        DataResultForAPI dataRet = new DataResultForAPI();        try {            List<Content> lists = contentService.findAll();            for (int i = 0; i < lists.size(); i++) {                Content entity = lists.get(i);                logger.error(i + ",内容处理：entity:" + entity.getName());                contentService.update(entity);            }            dataRet.pushOk("成功！");        } catch (Exception e) {            dataRet.pushError("失败：" + e.getMessage());        }        return dataRet;    }}