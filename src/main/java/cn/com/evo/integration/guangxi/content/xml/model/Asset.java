package cn.com.evo.integration.guangxi.content.xml.model;import cn.com.evo.cms.domain.entity.cms.Picture;import cn.com.evo.cms.domain.entity.cms.Video;import com.google.common.collect.Lists;import javax.xml.bind.annotation.XmlElement;import javax.xml.bind.annotation.XmlRootElement;import javax.xml.bind.annotation.XmlType;import java.util.List;/** * @Description: * @author: lu.xin * @create: 2019-05-14 2:02 PM **/@XmlRootElement(name = "Asset")@XmlType(propOrder = {        "metadata",        "content",})public class Asset {    private Metadata metadata;    private Content content;    public Asset() {    }    public Asset(Metadata metadata, Content content) {        this.metadata = metadata;        this.content = content;    }    public static List<Asset> create(Video video,                                     cn.com.evo.cms.domain.entity.cms.Content content,                                     Picture hPicture,                                     Picture sPicture) {        List<Asset> assets = Lists.newArrayList();        assets.add(new Asset(new Metadata(AMS.createAMS("movie", video.getId(), content.getName()),                AppData.createMovie(video)), new Content(getFileName(video.getUrl()))));        if (hPicture != null) {            assets.add(new Asset(new Metadata(AMS.createAMS("poster",                    hPicture.getId(), content.getName()), AppData.createPoster0()), new Content(hPicture.getFileName())));        }        if (sPicture != null) {            assets.add(new Asset(new Metadata(AMS.createAMS("poster",                    sPicture.getId(), content.getName()), AppData.createPoster1()), new Content(sPicture.getFileName())));        }        return assets;    }    @XmlElement(name = "Metadata")    public Metadata getMetadata() {        return metadata;    }    @XmlElement(name = "Content")    public Content getContent() {        return content;    }    public void setMetadata(Metadata metadata) {        this.metadata = metadata;    }    public void setContent(Content content) {        this.content = content;    }    /**     * 获取文件名     *     * @param url     * @return     */    private static String getFileName(String url) {        Integer index = url.lastIndexOf("/");        return url.substring(index + 1, url.length());    }}