package cn.com.evo.cms.domain.vo.total;import com.frameworks.core.web.constants.WebConsts;import com.frameworks.core.web.search.SearchFilter;import com.frameworks.utils.ServletUtils;import lombok.Data;import lombok.EqualsAndHashCode;import javax.servlet.http.HttpServletRequest;import java.util.Collection;import java.util.Map;/** * @Description: 内容检索vo * @author: lu.xin * @create: 2019-01-16 5:45 PM **/@Data@EqualsAndHashCode(callSuper = false)public class ContentTotalSearchVo {    private String appId;    private Integer type;    private String accountNo;    public ContentTotalSearchVo(HttpServletRequest request) {        Collection<SearchFilter> searchFilters = getSearchFilter(request);        for (SearchFilter searchFilter : searchFilters) {            String fieldName = searchFilter.getFieldName();            String value = searchFilter.getValue().toString();            if ("app.id".equals(fieldName)) {                this.appId = value;            }            if ("type".equals(fieldName)) {                this.type = Integer.valueOf(value);            }            if ("accountNo".equals(fieldName)) {                this.accountNo = value;            }        }    }    /**     * 请求转换查询条件     *     * @param request     * @return     */    public static Collection<SearchFilter> getSearchFilter(HttpServletRequest request) {        Map<String, Object> searchParams = ServletUtils.getParametersStartingWith(request, WebConsts.SEARCH_PREFIX);        Map<String, SearchFilter> filters = SearchFilter.parse(searchParams);        return filters.values();    }}